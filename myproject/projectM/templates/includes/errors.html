<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>  
  <!-- Field-specific Error Messages -->
  {% for field in form %}
    {% if field.errors %}
      <div class="mb-2">
        <label class="form-label fw-bold">{{ field.label }}</label>
        {% for error in field.errors %}
          <div class="text-danger small ms-2">
            <i class="bi bi-exclamation-circle-fill me-1"></i> {{ error }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endfor %}

  <!-- Non-field Errors -->
  {% for error in form.non_field_errors %}
    <div class="alert alert-danger d-flex align-items-center" role="alert">
      <i class="bi bi-x-circle-fill me-2"></i>
      <div>{{ error }}</div>
    </div>
  {% endfor %}

  <!-- Success/Error Messages -->
{% if messages %}
  {% for message in messages %}
    {% with tag=message.tags|first %}
      <div class="alert alert-{{ tag }} alert-dismissible fade show
           {% if message != 'No books found.' %}auto-dismiss{% endif %}" 
           role="alert">
        <i class="bi {% if tag == 'success' %}bi-check-circle-fill{% else %}bi-x-circle-fill{% endif %} me-2"></i>
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endwith %}
  {% endfor %}
{% endif %}


<!-- Add this script after the alert block -->
<script>
  // Auto-hide alerts after 5 seconds
  setTimeout(function () {
    const alerts = document.querySelectorAll('.alert.auto-dismiss');
    alerts.forEach(function(alert) {
      const bsAlert = bootstrap.Alert.getOrCreateInstance(alert);
      bsAlert.close();
    });
  }, 5000); // 5000ms = 5 seconds
</script>
